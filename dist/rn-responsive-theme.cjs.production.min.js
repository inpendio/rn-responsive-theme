"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,n=require("react"),r=e(n),i=e(require("react-native-orientation-locker")),o=require("react-native"),a=require("react-native-device-info");!function(e){e.PORTRAIT="portrait",e.LANDSCAPE="landscape",e["PORTRAIT-UPSIDEDOWN"]="portrait",e["LANDSCAPE-LEFT"]="landscape",e["LANDSCAPE-RIGHT"]="landscape"}(t||(t={}));var c=n.createContext({currentOrientation:t.PORTRAIT,lockOrientation:function(){}});function u(e){var o=e.children,a=n.useState(t.PORTRAIT),u=a[0],s=a[1],l=n.useCallback((function(e){e&&(t[e]===t.LANDSCAPE?i.lockToLandscape():t[e]===t.PORTRAIT&&i.lockToPortrait())}),[]),f=function(e){e&&s(t[e])};return n.useEffect((function(){return i.getDeviceOrientation(f),i.addOrientationListener(f),i.removeAllListeners()}),[]),console.log({currentOrientation:u}),r.createElement(c.Provider,{value:{currentOrientation:u,lockOrientation:l}},o)}var s=function(e){var t=e.onActive,r=e.onBackground,i=n.useState(o.AppState.currentState),a=i[0],c=i[1],u=function(e){a.match(/inactive|background/)&&"active"===e&&t?t():a.match(/inactive|active/)&&"background"===e&&r&&r(),c(e)};n.useEffect((function(){return o.AppState.addEventListener("change",u),function(){o.AppState.removeEventListener("change",u)}}),[])};function l(){var e=n.useContext(p),t=e.width,r=e.height,i=e.OS,a=e.isXs,c=e.isTablet,u=o.useColorScheme()||"light",s=n.useState({"@android":"android"===i,"@ios":"ios"===i,"@web":"web"===i,"@tablet":c,"@xs":a,width:t,height:r,systemTheme:u}),l=s[0],f=s[1];return n.useEffect((function(){f({"@android":"android"===i,"@ios":"ios"===i,"@web":"web"===i,"@tablet":c,"@xs":a,width:t,height:r,systemTheme:u})}),[t,r,i,a,c,u]),l}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function e(t,n){if("string"==typeof t&&"$"===t[0])return n.globalStyles[t]?n.globalStyles[t]:t;if("object"!=typeof t)return t;var r={},i=[];return Object.keys(t).forEach((function(o){"$"===o[0]?i.push(e(n.globalStyles[o],n)):"@"!==o[0]?r[o]=e(t[o],n):n[o]&&i.push(e(t[o],n))})),i.forEach((function(e){r=f({},r,e)})),r},h=o.Dimensions.get("window"),v=h.height,S=h.width,p=n.createContext({width:0,height:0,OS:void 0,isTablet:!1,isXs:!1});function g(e){var t=e.children,i=n.useState(v),c=i[0],u=i[1],l=n.useState(S),f=l[0],d=l[1],h=n.useState(o.Platform.OS)[0],g=n.useState(a.isTablet())[0],O=n.useState(!1),b=O[0],A=O[1],E=function(){var e=o.Dimensions.get("window"),t=e.height,n=e.width;t!==c&&u(t),n!==f&&d(n)};return s({onActive:E,onBackground:E}),n.useEffect((function(){var e=o.PixelRatio.get();c*e<1200&&A(!0)}),[c]),n.useEffect((function(){E()}),[]),r.createElement(p.Provider,{value:{height:c,width:f,OS:h,isTablet:g,isXs:b}},t)}exports.default=function(e){return r.createElement(g,null,r.createElement(u,null,e.children))},exports.useBackgroundHandler=s,exports.useBasicInfo=l,exports.useResponsive=function(e){console.log("useResponsive start...");var r,i=l(),a={orientation:r=n.useContext(c).currentOrientation,"@landscape":r===t.LANDSCAPE,"@portrait":r===t.PORTRAIT},u=n.useState(f({},i,a))[0],s=n.useState(null),h=s[0],v=s[1],S=n.useRef(e);return n.useEffect((function(){var t,n,r=(void 0===(t=S.current)&&(t={}),void 0===(n=e)&&(n={}),JSON.stringify(t)===JSON.stringify(n));console.log({isStyleEqual:r,style:e,ref:S.current}),r||(v(o.StyleSheet.create(d(e,u))),S.current=e)}),[e]),h||o.StyleSheet.create(d(e,u))};
//# sourceMappingURL=rn-responsive-theme.cjs.production.min.js.map
